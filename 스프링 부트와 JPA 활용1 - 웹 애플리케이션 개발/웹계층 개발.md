### ë¡œê·¸ ì°ê¸°

- @@Slf4j ë¡¬ë³µ ì‚¬ìš©
- log.info("home controller"); 
    - ë¡œê·¸ì— ì°í˜


### controller


#### 1. íšŒì› ê°€ì… 

```
@Controller
@RequiredArgsConstructor
public class MemberController {

    private final MemberService memberService;

    @GetMapping("/members/new") // í¼ í™”ë©´ ì—´ê¸°
    public String createForm(Model model){
        model.addAttribute("memberForm",new MemberForm());
        return "members/createMemberForm";
    }
    
    @PostMapping("/members/new") // í¼ ì‹¤ì œ ë“±ë¡
    public String create(@Valid MemberForm memberForm){
        Address address = new Address(memberForm.getCity(), memberForm.getStreet(), memberForm.getZipcode());
        Member member = new Member();
        member.setName(memberForm.getName());
        member.setAddress(address);

        memberService.join(member); //ë©¤ë²„ ì €ì¥
        return "redirect:/";
    }
}
```
1. ê°™ì€ ì£¼ì†Œë¡œ ë§µí•‘í•˜ë”ë¼ë„ getì´ë©´ í™”ë©´ ì—´ê¸°, postë©´ ë“±ë¡
2. formì˜ ê°’ì„ validationí•˜ê³  ì‹¶ìœ¼ë©´ @valid ì‚¬ìš©
3. BindingResult: validateí•˜ê³  ê²€ì¦ì‹œ ì˜¤ë¥˜ê°€ ë‚˜ë©´ ì´ ì˜¤ë¥˜ê°€ ë‹´ê¸´ì±„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê²Œ í•¨
    - springì´ binding resultë¥¼ viewê¹Œì§€ ëŒê³ ê°€ì„œ ì–´ë–¤ ì˜¤ë¥˜ê°€ ë‚¬ëŠ”ì§€ ë³´ì—¬ì¤Œ
    ``` <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Incorrect date</p> ```

        <img width="544" alt="image" src="https://user-images.githubusercontent.com/81572478/211133903-b3a51d81-2440-497d-adea-e6ee8935a1a5.png">

    - ì˜¤ë¥˜ ì•ˆë‚œ ë‚˜ë¨¸ì§€ ê°’ ìœ ì§€ë¨ : form ê°’ì„ ê·¸ëŒ€ë¡œ viewì— ê°€ì ¸ê°€ê¸° ë•Œë¬¸ì—



â¡ï¸ íšŒì› í¼ ì…ë ¥í•˜ê³  submití•˜ë©´
```insert into member (city, street, zipcode, name, member_id) values ('ê±°ë¦¬', 'ì¸ì²œ', '11111', 'jieun park', 1); ``` ë¨

<img width="245" alt="image" src="https://user-images.githubusercontent.com/81572478/211133926-1bd3d853-4897-4e53-9d6e-0ad18e07e3a0.png">

<br><Br>

ğŸ“Œ í¼ ë°ì´í„°ë¥¼ ë§Œë“¤ê³  í¼ì˜ ì •ë³´ë¥¼ controllerì—ì„œ ë°ì´í„°  get / ì •ì œí›„ entity ìƒì„± í›„ dbì— ë„˜ê¸°ëŠ”ê²Œ ì¢‹ìŒ! (ì„œë¹„ìŠ¤ê°€ ì»¤ì§ˆìˆ˜ë¡)

â¡ï¸  í¼ ê°ì²´ vs ì—”í‹°í‹° ì§ì ‘ ì‚¬ìš©
> ì°¸ê³ : ìš”êµ¬ì‚¬í•­ì´ ì •ë§ ë‹¨ìˆœí•  ë•ŒëŠ” í¼ ê°ì²´ (MemberForm) ì—†ì´ ì—”í‹°í‹° (Member)ë¥¼ ì§ì ‘ ë“±ë¡ê³¼ ìˆ˜ì •
í™”ë©´ì—ì„œ ì‚¬ìš©í•´ë„ ëœë‹¤. í•˜ì§€ë§Œ í™”ë©´ ìš”êµ¬ì‚¬í•­ì´ ë³µì¡í•´ì§€ê¸° ì‹œì‘í•˜ë©´, ì—”í‹°í‹°ì— í™”ë©´ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ
ê¸°ëŠ¥ì´ ì ì  ì¦ê°€í•œë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì—”í‹°í‹°ëŠ” ì ì  í™”ë©´ì— ì¢…ì†ì ìœ¼ë¡œ ë³€í•˜ê³ , ì´ë ‡ê²Œ í™”ë©´ ê¸°ëŠ¥ ë•Œë¬¸ì—
ì§€ì €ë¶„í•´ì§„ ì—”í‹°í‹°ëŠ” ê²°êµ­ ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤.
> ì‹¤ë¬´ì—ì„œ ì—”í‹°í‹°ëŠ” í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ ê°€ì§€ê³  ìˆê³ , í™”ë©´ì„ ìœ„í•œ ë¡œì§ì€ ì—†ì–´ì•¼ í•œë‹¤. í™”ë©´ì´ë‚˜ APIì—
ë§ëŠ” í¼ ê°ì²´ë‚˜ DTOë¥¼ ì‚¬ìš©í•˜ì. ê·¸ë˜ì„œ í™”ë©´ì´ë‚˜ API ìš”êµ¬ì‚¬í•­ì„ ì´ê²ƒë“¤ë¡œ ì²˜ë¦¬í•˜ê³ , ì—”í‹°í‹°ëŠ” ìµœëŒ€í•œ
ìˆœìˆ˜í•˜ê²Œ ìœ ì§€í•˜ì.

<br><Br>

#### 2. íšŒì› ëª©ë¡ ì¡°íšŒ
```
@GetMapping("/members")
    public String list(Model model){
        List<Member> members = memberService.findMembers();
        model.addAttribute("members",members);
        return "members/memberList";
    }

```
: ```List<Member>```ë¡œ ë°›ì•„ì„œ í™”ë©´ì— ë¿Œë¦¼(entity)
- ì›ë˜ëŠ” **DTOë¡œ ë³€í™˜**í•´ì„œ í™”ë©´ì— ê¼­ í•„ìš”í•œ ë°ì´í„°ë§Œì„ ê°€ì§€ê³  í™”ë©´ì— ì¶œë ¥í•˜ëŠ” ê²ƒ ê¶Œì¥!

<br>

### ğŸ“Œ APIë¥¼ ë§Œë“¤ë•ŒëŠ” ì ˆëŒ€!!! entityë¥¼ ì™¸ë¶€ë¡œ ë„˜ê¸°ë©´(ë°˜í™˜í•˜ë©´) ì•ˆë¨
    
- entityì˜ í•„ë“œ ì¶”ê°€/ë³€ê²½ì‹œ APIì˜ ìŠ¤í™ì´ ë³€í•´ë²„ë¦¼ (ë¶ˆì•ˆì •í•œ APIê°€ ë¨)