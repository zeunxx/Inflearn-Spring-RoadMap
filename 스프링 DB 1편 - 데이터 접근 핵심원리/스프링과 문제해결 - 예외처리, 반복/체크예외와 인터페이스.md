## μ²΄ν¬μμ™Έμ™€ μΈν„°νμ΄μ¤


μ„λΉ„μ¤ κ³„μΈµμ€ κ°€κΈ‰μ  νΉμ • κµ¬ν„ κΈ°μ μ— μμ΅΄ν•μ§€ μ•κ³ , μμν•κ² μ μ§€ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. μ΄λ ‡κ² ν•λ ¤λ©΄ μμ™Έμ— λ€ν• μμ΅΄λ„ ν•¨κ» ν•΄κ²°ν•΄μ•Όν•λ‹¤.

μλ¥Ό λ“¤μ–΄μ„ μ„λΉ„μ¤κ°€ μ²λ¦¬ν•  μ μ—†λ” SQLException μ— λ€ν• μμ΅΄μ„ μ κ±°ν•λ ¤λ©΄ μ–΄λ–»κ² ν•΄μ•Όν• κΉ?
μ„λΉ„μ¤κ°€ μ²λ¦¬ν•  μ μ—†μΌλ―€λ΅ λ¦¬ν¬μ§€ν† λ¦¬κ°€ λμ§€λ” SQLException μ²΄ν¬ μμ™Έλ¥Ό λ°νƒ€μ„ μμ™Έλ΅ μ „ν™ν•΄μ„ μ„λΉ„μ¤ κ³„μΈµμ— λμ§€μ. 

μ΄λ ‡κ² ν•λ©΄ μ„λΉ„μ¤ κ³„μΈµμ΄ ν•΄λ‹Ή μμ™Έλ¥Ό λ¬΄μ‹ν•  μ μκΈ° λ•λ¬Έμ—, 
νΉμ • κµ¬ν„ κΈ°μ μ— μμ΅΄ν•λ” λ¶€λ¶„μ„ μ κ±°ν•κ³  μ„λΉ„μ¤ κ³„μΈµμ„ μμν•κ² μ μ§€ν•  μ μλ‹¤.


<br>

### μΈν„°νμ΄μ¤ λ„μ…


![image](https://github.com/sxunea/CS-Study/assets/81572478/d50404a0-fccc-4f63-be25-f512d2d2d2ad)

λ¨Όμ € MemberRepository μΈν„°νμ΄μ¤λ¥Ό λ„μ…ν•΄μ„ κµ¬ν„ κΈ°μ μ„ μ‰½κ² λ³€κ²½ν•  μ μκ² ν•΄λ³΄μ.

- μΈν„°νμ΄μ¤λ¥Ό λ„μ…ν•λ©΄ MemberService λ” MemberRepository μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ©΄ λλ‹¤.
- μ΄μ  κµ¬ν„ κΈ°μ μ„ λ³€κ²½ν•κ³  μ‹¶μΌλ©΄ DIλ¥Ό μ‚¬μ©ν•΄μ„ MemberService μ½”λ“μ λ³€κ²½ μ—†μ΄ κµ¬ν„ κΈ°μ μ„ λ³€κ²½ν•  μ μλ‹¤.

<br>

```
package hello.jdbc.repository;
import hello.jdbc.domain.Member;

public interface MemberRepository {
    Member save(Member member);
    Member findById(String memberId);
    void update(String memberId, int money);
    void delete(String memberId);
}
```

<br>

π’΅ **μ κΉ? κΈ°μ΅΄μ—λ” μ™ μ΄λ° μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ§€ μ•μ•μ„κΉ?**

μ‚¬μ‹¤ λ‹¤μκ³Ό κ°™μ€ λ¬Έμ κ°€ μκΈ° λ•λ¬Έμ— λ§λ“¤μ§€ μ•μ•λ‹¤.

μ™λƒν•λ©΄ SQLExceptionμ΄ μ²΄ν¬ μμ™Έμ΄κΈ° λ•λ¬Έμ΄λ‹¤. μ—¬κΈ°μ„ μ²΄ν¬ μμ™Έκ°€ λ λ°λ©μ„ μ΅λ”λ‹¤.

**μ²΄ν¬ μμ™Έλ¥Ό μ‚¬μ©ν•λ ¤λ©΄ μΈν„°νμ΄μ¤μ—λ„ ν•΄λ‹Ή μ²΄ν¬ μμ™Έκ°€ μ„ μ–Έ λμ–΄ μμ–΄μ•Ό ν•λ‹¤.**

μλ¥Ό λ“¤λ©΄ λ‹¤μκ³Ό κ°™μ€ μ½”λ“κ°€ λλ‹¤.

<br>

#### μ²΄ν¬ μμ™Έ μ½”λ“μ— μΈν„°νμ΄μ¤ λ„μ…μ‹ λ¬Έμ μ  - μΈν„°νμ΄μ¤
```
package hello.jdbc.repository;
import hello.jdbc.domain.Member;
import java.sql.SQLException;
public interface MemberRepositoryEx {
    Member save(Member member) throws SQLException;
    Member findById(String memberId) throws SQLException;
    void update(String memberId, int money) throws SQLException;
    void delete(String memberId) throws SQLException;
}
```
- μΈν„°νμ΄μ¤μ κµ¬ν„μ²΄κ°€ μ²΄ν¬ μμ™Έλ¥Ό λμ§€λ ¤λ©΄, μΈν„°νμ΄μ¤ λ©”μ„λ“μ— λ¨Όμ € μ²΄ν¬ μμ™Έλ¥Ό λμ§€λ” λ¶€λ¶„μ΄ μ„ μ–Έλμ–΄ μμ–΄μ•Ό ν•λ‹¤. κ·Έλμ•Ό κµ¬ν„ ν΄λμ¤μ λ©”μ„λ“λ„ μ²΄ν¬ μμ™Έλ¥Ό λμ§ μ μλ‹¤.
    - μ‰½κ² μ΄μ•ΌκΈ° ν•΄μ„ MemberRepositoryV3 κ°€ throws SQLException λ¥Ό ν•λ ¤λ©΄ MemberRepositoryEx μΈν„°νμ΄μ¤μ—λ„ throws SQLException μ΄ ν•„μ”ν•λ‹¤.

- μ°Έκ³ λ΅ κµ¬ν„ ν΄λμ¤μ λ©”μ„λ“μ— μ„ μ–Έν•  μ μλ” μμ™Έλ” λ¶€λ¨ νƒ€μ…μ—μ„ λμ§„ μμ™Έμ™€ κ°™κ±°λ‚ ν•μ„ νƒ€μ…μ΄μ–΄μ•Ό ν•λ‹¤.
    - μλ¥Ό λ“¤μ–΄μ„ μΈν„°νμ΄μ¤ λ©”μ„λ“μ— throws Exception λ¥Ό μ„ μ–Έν•λ©΄, κµ¬ν„ ν΄λμ¤ λ©”μ„λ“μ— throws SQLException λ” κ°€λ¥ν•λ‹¤. SQLException μ€ Exception μ ν•μ„ νƒ€μ…μ΄κΈ° λ•λ¬Έμ΄λ‹¤.


<Br>


### β… νΉμ • κΈ°μ μ— μΆ…μ†λλ” μΈν„°νμ΄μ¤


κµ¬ν„ κΈ°μ μ„ μ‰½κ² λ³€κ²½ν•κΈ° μ„ν•΄μ„ μΈν„°νμ΄μ¤λ¥Ό λ„μ…ν•λ”λΌλ„ SQLException κ³Ό κ°™μ€ νΉμ • κµ¬ν„ κΈ°μ μ— μΆ…μ†μ μΈ μ²΄ν¬ μμ™Έλ¥Ό μ‚¬μ©ν•κ² λλ©΄ μΈν„°νμ΄μ¤μ—λ„ ν•΄λ‹Ή μμ™Έλ¥Ό ν¬ν•¨ν•΄μ•Ό ν•λ‹¤. 

ν•μ§€λ§ μ΄κ²ƒμ€ μ°λ¦¬κ°€ μ›ν•λ μμν• μΈν„°νμ΄μ¤κ°€ μ•„λ‹λ‹¤. 
JDBC κΈ°μ μ— μΆ…μ†μ μΈ μΈν„°νμ΄μ¤μΌ λΏμ΄λ‹¤. 
μΈν„°νμ΄μ¤λ¥Ό λ§λ“λ” λ©μ μ€ κµ¬ν„μ²΄λ¥Ό μ‰½κ² λ³€κ²½ν•κΈ° μ„ν•¨μΈλ°, μ΄λ―Έ μΈν„°νμ΄μ¤κ°€ νΉμ • κµ¬ν„ κΈ°μ μ— μ¤μ—Όμ΄ λμ–΄ λ²„λ Έλ‹¤.


ν–¥ν›„ JDBCκ°€ μ•„λ‹ λ‹¤λ¥Έ κΈ°μ λ΅ λ³€κ²½ν•λ‹¤λ©΄ μΈν„°νμ΄μ¤ μμ²΄λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤.


<br>

### β… λ°νƒ€μ„ μμ™Έμ™€ μΈν„°νμ΄μ¤

λ°νƒ€μ„ μμ™Έλ” μ΄λ° λ¶€λ¶„μ—μ„ μμ λ΅­λ‹¤. μΈν„°νμ΄μ¤μ— λ°νƒ€μ„ μμ™Έλ¥Ό λ”°λ΅ μ„ μ–Έν•μ§€ μ•μ•„λ„ λλ‹¤. 

λ”°λΌμ„ μΈν„°νμ΄μ¤κ°€ νΉμ • κΈ°μ μ— μΆ…μ†μ μΌ ν•„μ”κ°€ μ—†λ‹¤.